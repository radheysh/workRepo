{"version":3,"sources":["views/user/DataHistory/TableCarousel.jsx","views/user/DataHistory/DataHistory.jsx"],"names":["TableCarousel","data","setStartIndex","startIndex","useState","startIndexPage","setStartIndexPage","endIndexPage","setEndIndexPage","number","Array","from","length","v","k","nextPage","prevPage","pageHandler","i","className","map","ele","transactionHash","moment","utc","createdAt","format","version","shipper","shipDate","unitTrainNo","dotClass","hazardWarning","bolNo","erpPiu","bswPerc","density","commodityName","crudeClassification","eraflashD93b","packingGroup","product","stccCode","unNaNo","unitTrainSize","tabIndex","role","onKeyDown","onClick","slice","DataHistory","dispatch","useDispatch","useSelector","state","dashboard","isLoading","historyDataObj","stopLoading","setStopLoading","historyData","setHistoryData","id","useParams","useEffect","getHistoryData","to","blockNo","sm","type","color"],"mappings":"uNAiLeA,MA9Kf,YAA6D,IAApCC,EAAmC,EAAnCA,KAAMC,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,WAC5C,EAA4CC,mBAAS,GAArD,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAAwCF,mBAAS,GAAjD,mBAAOG,EAAP,KAAqBC,EAArB,KAEMC,EAAUR,EAAYS,MAAMC,KAAK,CAAEC,OAAQX,EAAKW,SAAU,SAACC,EAAGC,GAAJ,OAAUA,EAAI,CAAd,IAAzC,GAEjBC,EAAW,WACfb,EAAcD,EAAKW,OAAST,EAAaA,EAAa,EAAIA,GACtDA,IAAeI,GAAgBN,EAAKW,OAAST,IAC/CG,EAAkBD,EAAiB,GACnCG,EAAgBD,EAAe,GAElC,EAEKS,EAAW,WACfd,EAAcC,EAAa,EAAIA,EAAa,EAAI,GAC5CE,IAAmBF,EAAa,GAAKA,EAAa,IACpDG,EAAkBD,EAAiB,GACnCG,EAAgBD,EAAe,GAElC,EAEKU,EAAc,SAAAC,GAClBhB,EAAcgB,EACf,EAED,OACE,qCAEE,qBAAKC,UAAU,OAAf,SACGlB,GACCA,EAAKmB,KAAI,SAACC,EAAKH,GAAN,OAEP,cADA,CACA,sBACE,qBAAKC,UAAWhB,IAAee,EAAI,EAAI,oBAAsB,aAA7D,SACE,sBAAKC,UAAU,iCAAf,UACE,gCACE,oBAAGA,UAAU,mBAAb,8BAA2CE,QAA3C,IAA2CA,OAA3C,EAA2CA,EAAKC,mBAChD,oBAAGH,UAAU,YAAb,wBACcI,IAAOC,IAAP,OAAWH,QAAX,IAAWA,OAAX,EAAWA,EAAKI,WAAWC,OAAO,qBADhD,aAKF,8BAAML,GAAO,sBAAKF,UAAU,UAAf,qBAAkCE,EAAIM,kBAGvD,wBAAOR,UAAWhB,IAAee,EAAI,EAAI,SAAW,GAApD,UACE,+BACE,yCACA,6BAAKG,EAAIpB,KAAK2B,SAAW,WAE3B,+BACE,8CACA,6BAAKL,IAAM,OAACF,QAAD,IAACA,OAAD,EAACA,EAAKpB,KAAK4B,UAAUH,OAAO,mBAEzC,+BACE,gDACA,6BAAKL,EAAIpB,KAAK6B,aAAe,WAE/B,+BACE,2CACA,6BAAKT,EAAIpB,KAAK8B,UAAY,WAE5B,+BACE,gDACA,6BAAKV,EAAIpB,KAAK+B,eAAiB,WAEjC,+BACE,wCACA,6BAAKX,EAAIpB,KAAKgC,OAAS,WAEzB,+BACE,6CACA,6BAAKZ,EAAIpB,KAAKiC,QAAU,WAE1B,+BACE,uCACA,6BAAKb,EAAIpB,KAAKkC,SAAW,WAE3B,+BACE,yCACA,6BAAKd,EAAIpB,KAAKmC,SAAW,cAG7B,wBAAOjB,UAAWhB,IAAee,EAAI,EAAI,SAAW,GAApD,UACE,+BACE,gDACA,6BAAKG,EAAIpB,KAAKoC,eAAiB,WAEjC,+BACE,sDACA,6BAAKhB,EAAIpB,KAAKqC,qBAAuB,WAEvC,+BACE,gDACA,6BAAKjB,EAAIpB,KAAKsC,cAAgB,WAEhC,+BACE,+CACA,6BAAKlB,EAAIpB,KAAKuC,cAAgB,WAEhC,+BACE,yCACA,6BAAKnB,EAAIpB,KAAKwC,SAAW,WAE3B,+BACE,2CACA,6BAAKpB,EAAIpB,KAAKyC,UAAY,WAE5B,+BACE,2CACA,6BAAKrB,EAAIpB,KAAK0C,QAAU,WAE1B,+BACE,iDACA,6BAAKtB,EAAIpB,KAAK2C,eAAiB,gBApF9B,MA0FZ3C,GAAQA,EAAKW,OACZ,sBAAKO,UAAU,aAAf,UACE,uBAAMA,UAAU,yBAAhB,6BAEE,sBACE0B,SAAU,EACVC,KAAK,SACLC,UAAW,kBAAM/B,GAAN,EACXgC,QAAS,kBAAMhC,GAAN,EACTG,UAAU,MALZ,SAOGlB,EAAKW,YAGV,sBACEiC,SAAU,EACVC,KAAK,SACLC,UAAW,kBAAM/B,GAAN,EACXgC,QAAS,kBAAMhC,GAAN,EACTG,UAAU,OALZ,kBASCV,GACCA,EAAOwC,MAAM5C,EAAgBE,GAAca,KAAI,SAAAC,GAAG,OAChD,sBACEwB,SAAUxB,EACVyB,KAAK,SACL3B,UAAWhB,IAAekB,EAAM,cAAgB,OAChD2B,QAAS,kBAAM/B,EAAYI,EAAlB,EACT0B,UAAW,kBAAM9B,EAAYI,EAAlB,EALb,SAQGA,GAT6C,IAYpD,sBACEF,UAAU,OACV0B,SAAU,EACVC,KAAK,SACLC,UAAW,kBAAMhC,GAAN,EACXiC,QAAS,kBAAMjC,GAAN,EALX,qBAWF,mBAAGI,UAAU,aAAb,+BAIP,E,QCxFc+B,UA7EK,WAAO,IAAD,EAClBC,EAAWC,cACjB,EAAsCC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,SAAV,IAA/CC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,eACnB,EAAsCrD,oBAAS,GAA/C,mBAAOsD,EAAP,KAAoBC,EAApB,KACA,EAAsCvD,mBAAS,IAA/C,mBAAOwD,EAAP,KAAoBC,EAApB,KACA,EAAoCzD,mBAAS,GAA7C,mBAAOD,EAAP,KAAmBD,EAAnB,KACQ4D,EAAOC,cAAPD,GAwCR,OAlCAE,qBAAU,WAHRb,EAASc,YAAeH,GAKzB,GAAE,IAEHE,qBAAU,WACRL,GAAe,GACXF,GAwBFI,EAAeJ,EAElB,GAAE,CAACA,IAGF,qCACE,cAAC,MAAD,WACID,GAAaC,GACb,cAAC,IAAD,CAAMS,GAAG,aAAa/C,UAAU,aAAhC,SACE,qBAAIA,UAAU,YAAd,UACE,mBAAGA,UAAU,2BACZsC,GAAc,mCAAsBG,EAAYzD,EAAa,UAA/C,aAAsB,EAA6BgE,gBAK1E,cAAC,MAAD,CAAKhD,UAAU,OAAf,SACE,eAAC,MAAD,CAAKiD,GAAI,GAAIjD,UAAU,oCAAvB,UACGqC,IAAcE,GAAe,cAAC,UAAD,CAASvC,UAAU,UAAUkD,KAAK,SAASC,MAAM,UAC7Ed,GAAaE,IAAgBE,GAC7B,mBAAGzC,UAAU,aAAb,8BAEAqC,GAAaE,GACb,cAAC,EAAD,CACEzD,KAAM2D,EACNzD,WAAYA,EACZD,cAAeA,WAO5B,C","file":"static/js/14.9f9f9b13.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport moment from 'moment';\r\n\r\nfunction TableCarousel({ data, setStartIndex, startIndex }) {\r\n  const [startIndexPage, setStartIndexPage] = useState(0);\r\n  const [endIndexPage, setEndIndexPage] = useState(5);\r\n\r\n  const number = !data ? [] : Array.from({ length: data.length }, (v, k) => k + 1);\r\n\r\n  const nextPage = () => {\r\n    setStartIndex(data.length > startIndex ? startIndex + 1 : startIndex);\r\n    if (startIndex === endIndexPage && data.length > startIndex) {\r\n      setStartIndexPage(startIndexPage + 5);\r\n      setEndIndexPage(endIndexPage + 5);\r\n    }\r\n  };\r\n\r\n  const prevPage = () => {\r\n    setStartIndex(startIndex - 1 ? startIndex - 1 : 1);\r\n    if (startIndexPage === startIndex - 1 && startIndex - 1) {\r\n      setStartIndexPage(startIndexPage - 5);\r\n      setEndIndexPage(endIndexPage - 5);\r\n    }\r\n  };\r\n\r\n  const pageHandler = i => {\r\n    setStartIndex(i);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* <p>{startIndex}</p> */}\r\n      <div className=\"flex\">\r\n        {data &&\r\n          data.map((ele, i) => (\r\n            // element.map((ele) =>\r\n            <>\r\n              <div className={startIndex === i + 1 ? 'txnDetails active' : 'txnDetails'}>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div>\r\n                    <p className=\"red-text txnHash\">Tx Hash - {ele?.transactionHash}</p>\r\n                    <p className=\"timeStamp\">\r\n                      Timestamp: {moment.utc(ele?.createdAt).format('MM/DD/YYYY, HH:mm')} UTC\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div>{ele && <div className=\"version\">Version {ele.version}</div>}</div>\r\n                </div>\r\n              </div>\r\n              <table className={startIndex === i + 1 ? 'active' : ''}>\r\n                <tr>\r\n                  <td>Shipper</td>\r\n                  <td>{ele.data.shipper || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Shipper Date</td>\r\n                  <td>{moment(ele?.data.shipDate).format('MM/DD/YYYY')}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Unit Train No.</td>\r\n                  <td>{ele.data.unitTrainNo || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>DOT Class</td>\r\n                  <td>{ele.data.dotClass || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Hazard Warning</td>\r\n                  <td>{ele.data.hazardWarning || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>BOL No</td>\r\n                  <td>{ele.data.bolNo || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>E.R.P/P.I.U</td>\r\n                  <td>{ele.data.erpPiu || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>BSW %</td>\r\n                  <td>{ele.data.bswPerc || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Density</td>\r\n                  <td>{ele.data.density || 'N.A'}</td>\r\n                </tr>\r\n              </table>\r\n              <table className={startIndex === i + 1 ? 'active' : ''}>\r\n                <tr>\r\n                  <td>Commodity Name</td>\r\n                  <td>{ele.data.commodityName || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Crude Classification</td>\r\n                  <td>{ele.data.crudeClassification || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>ERA Flash D93B</td>\r\n                  <td>{ele.data.eraflashD93b || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Packing Group</td>\r\n                  <td>{ele.data.packingGroup || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Product</td>\r\n                  <td>{ele.data.product || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>STCC Code</td>\r\n                  <td>{ele.data.stccCode || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>UN NA No.</td>\r\n                  <td>{ele.data.unNaNo || 'N.A'}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Unit Train Size</td>\r\n                  <td>{ele.data.unitTrainSize || 'N.A'}</td>\r\n                </tr>\r\n              </table>\r\n            </>\r\n          ))}\r\n      </div>\r\n      {data && data.length ? (\r\n        <div className=\"pagination\">\r\n          <span className=\"align-self-center mx-4\">\r\n            Total Revisions:\r\n            <span\r\n              tabIndex={0}\r\n              role=\"button\"\r\n              onKeyDown={() => prevPage()}\r\n              onClick={() => prevPage()}\r\n              className=\"m-2\"\r\n            >\r\n              {data.length}\r\n            </span>\r\n          </span>\r\n          <span\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            onKeyDown={() => prevPage()}\r\n            onClick={() => prevPage()}\r\n            className=\"page\"\r\n          >\r\n            Prev\r\n          </span>\r\n          {number &&\r\n            number.slice(startIndexPage, endIndexPage).map(ele => (\r\n              <span\r\n                tabIndex={ele}\r\n                role=\"button\"\r\n                className={startIndex === ele ? 'active page' : 'page'}\r\n                onClick={() => pageHandler(ele)}\r\n                onKeyDown={() => pageHandler(ele)}\r\n              >\r\n                {/* {i + 1} */}\r\n                {ele}\r\n              </span>\r\n            ))}\r\n          <span\r\n            className=\"page\"\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            onKeyDown={() => nextPage()}\r\n            onClick={() => nextPage()}\r\n          >\r\n            Next\r\n          </span>\r\n        </div>\r\n      ) : (\r\n        <p className=\"no_content\">No result found</p>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TableCarousel;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useParams } from 'react-router-dom';\r\n// eslint-disable-next-line no-unused-vars\r\nimport { ButtonGroup, Col, Row, Spinner, Button } from 'reactstrap';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport './DataHistory.css';\r\nimport TableCarousel from './TableCarousel';\r\nimport { getHistoryData } from '../../../store/actions';\r\n\r\nconst DataHistory = () => {\r\n  const dispatch = useDispatch();\r\n  const { isLoading, historyDataObj } = useSelector(state => state.dashboard);\r\n  const [stopLoading, setStopLoading] = useState(false);\r\n  const [historyData, setHistoryData] = useState([]);\r\n  const [startIndex, setStartIndex] = useState(1);\r\n  const { id } = useParams();\r\n\r\n  const getData = () => {\r\n    dispatch(getHistoryData(id));\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData(0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setStopLoading(true);\r\n    if (historyDataObj) {\r\n      /* const finalArr = [];\r\n      let tempArr = [];\r\n      for (let i = 0; i < historyDataObj.length; i += 1) {\r\n        if (i && !(i % 2)) {\r\n          finalArr.push(tempArr);\r\n          tempArr = [];\r\n        }\r\n        const dataObj = historyDataObj[i].data;\r\n        tempArr.push({\r\n          shipper: dataObj.shipper,\r\n          shippedDate: dataObj.shipDate,\r\n          unitTrainNo: dataObj.unitTrainNo,\r\n          dotClass: dataObj.dotClass,\r\n          hazardWarning: dataObj.hazardWarning,\r\n          bolno: dataObj.bolNo,\r\n          erppiu: dataObj.erpPiu,\r\n          bswPer: dataObj.bswPerc,\r\n          density: dataObj.density,\r\n        });\r\n        if (historyDataObj.length - 1 === i && tempArr.length) {\r\n          finalArr.push(tempArr);\r\n        }\r\n      } */\r\n      setHistoryData(historyDataObj);\r\n    }\r\n  }, [historyDataObj]);\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        {!isLoading && historyDataObj && (\r\n          <Link to=\"/dashboard\" className=\"header_nav\">\r\n            <h4 className=\"text-bold\">\r\n              <i className=\"fa-solid fa-angle-left\" />\r\n              {historyDataObj && `Block Number - ${historyData[startIndex - 1]?.blockNo}`}\r\n            </h4>\r\n          </Link>\r\n        )}\r\n      </Row>\r\n      <Row className=\"mt-4\">\r\n        <Col sm={12} className=\"position-relative list-data-table\">\r\n          {isLoading && !stopLoading && <Spinner className=\"spinner\" type=\"border\" color=\"dark\" />}\r\n          {!isLoading && stopLoading && !historyData && (\r\n            <p className=\"no_content\">No result found</p>\r\n          )}\r\n          {!isLoading && stopLoading && (\r\n            <TableCarousel\r\n              data={historyData}\r\n              startIndex={startIndex}\r\n              setStartIndex={setStartIndex}\r\n            />\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DataHistory;\r\n"],"sourceRoot":""}