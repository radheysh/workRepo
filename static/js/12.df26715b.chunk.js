(this.webpackJsonpFTI_POC=this.webpackJsonpFTI_POC||[]).push([[12],{155:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={rows:{style:{minHeight:"50px"}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px",fontSize:"17px",fontFamily:"SourceSansProSemiBold",opacity:"0.8",display:"flex",justifyContent:"space-between"}},headRow:{style:{borderTopWidth:"1px",borderTopColor:"rgba(0,0,0,.12)",borderTopStyle:"solid"}},cells:{style:{paddingLeft:"8px",paddingRight:"8px",fontSize:"16px"}}}},190:function(e,t,r){"use strict";var n=r(25),a=r(20),c=r(1),o=r(47),s=(r(67),r(8));t.a=function(e){var t=e.isOpen,r=e.title,i=e.question,l=e.toggle,u=e.handleSubmit,d=Object(a.c)((function(e){return e.dashboard})).isLoading;return Object(c.useEffect)((function(){document.body.style.overflow=t?"hidden":"visible"}),[t]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(n.Modal,{isOpen:t,scrollable:!0,className:"modal-dialog-centered confirm-modal",children:[Object(s.jsx)(n.Container,{className:"px-3",children:Object(s.jsxs)("div",{className:"modal-header h4 pb-0 pt-2 border-0",children:[Object(s.jsx)("span",{className:"modal-title",children:r}),Object(s.jsx)("button",{type:"button",className:"text-button",onClick:l,children:Object(s.jsx)("img",{src:o.a,alt:""})})]})}),Object(s.jsx)("hr",{}),Object(s.jsx)(n.Container,{className:"modal-container",children:Object(s.jsx)("div",{className:"modal-body px-4 py-2",children:Object(s.jsx)("div",{className:"p-2",children:Object(s.jsxs)("div",{className:"p-2 text-center",children:[Object(s.jsx)("div",{className:"text-semi-bold f-20",children:i}),Object(s.jsxs)("div",{className:"d-flex justify-content-between mx-auto w-78",children:[Object(s.jsx)(n.Button,{color:"secondary",className:"px-5 mt-4",onClick:l,children:"No"}),Object(s.jsx)(n.Button,{color:"danger",className:"px-5 mt-4",onClick:function(){u()},children:d?Object(s.jsx)("i",{className:"fa-solid fa-circle-notch fa-spin"}):"Yes"})]})]})})})})]})})}},529:function(e,t,r){"use strict";r.r(t);var n=r(38),a=r(1),c=r.n(a),o=r(20),s=r(13),i=r(25),l=r(39),u=r(167),d=r(140),p=r(5),b=r(6),j=r(148),f=r(156),m=r(230),v=r(166),O=r.n(v),h=r(229),g=r(525),x=r(40),w=r.n(x),y=r(484),S=r.n(y),N=r(10),C=r(41),D=r(155),F=r(21),k=r(8),A=["onClick"],I=function(e){var t,r=e.redirecttoGrp,c=Object(o.b)(),s=Object(o.c)((function(e){return e.accessReducers})),l=s.featureList,u=s.ModiFygroup,v=s.isLoading,x=s.modifyrow,y=s.isCreating,A=Object(a.useState)([]),I=Object(n.a)(A,2),G=I[0],E=I[1],U=Object(a.useState)((function(){if(null!==x&&void 0!==x&&x.shipper){var e,t=[],r=Object(f.a)(null===x||void 0===x?void 0:x.shipper);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push({value:n,label:n})}}catch(a){r.e(a)}finally{r.f()}return t}return[]})),T=Object(n.a)(U,2),R=T[0],_=T[1],B=Object(a.useState)(!1),q=Object(n.a)(B,2),L=q[0],M=q[1],Y=Object(a.useState)([]),V=Object(n.a)(Y,2),W=V[0],z=V[1],H=Object(a.useState)([]),J=Object(n.a)(H,2),K=J[0],Q=J[1],X=function(){var e=Object(j.a)(Object(b.a)().mark((function e(){var t,r,n,a,c,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/v1/webapp/getShippers");case 2:r=e.sent,n=[],a=Object(f.a)(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.response);try{for(a.s();!(c=a.n()).done;)o=c.value,n.push({value:o,label:o})}catch(s){a.e(s)}finally{a.f()}E(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return l.length||c(Object(N.u)()),X(),function(){c(Object(N.W)())}}),[]);var Z=function(e){var t=e.selectedRows;z(t.filter((function(e){var t;return null===e||void 0===e||null===(t=e.srn)||void 0===t?void 0:t.toString()})))},$=Object(a.useState)({columns:[{name:"#",selector:function(e,t,r){return e.no},width:"10%"},{id:"feature",name:"Feature",selector:function(e){return e.feature},width:"35%",sortServer:!0,cell:function(e){return e.srn.toString()?e.feature:Object(k.jsx)("h1",{className:"rowHeading",children:e.feature})},sortable:!0},{id:"featureDescription",name:"Feature Description",selector:function(e){return e.featureDescription},width:"45%"}],rows:[]}),ee=Object(n.a)($,2),te=ee[0],re=ee[1],ne=[{dataField:"no",text:"#"},{dataField:"feature",text:"Feature",formatter:function(e,t){return t.srn.toString()?t.feature:Object(k.jsx)("h1",{className:"rowHeading",children:t.feature})}},{dataField:"featureDescription",text:"Feature Description"}],ae=function(e){u?("success"===e?w.a.success("Updated Group Successfully"):w.a.error("Group name Already Exist!"),setTimeout((function(){r()}),2e3)):"success"===e?w.a.success(" Group Created Successfully"):w.a.error("Group name Already Exist!")};Object(a.useEffect)((function(){if(null!==l&&void 0!==l&&l.length){var e,t=[],r=[],n=[],a=8,c=0,o=12,s=Object(f.a)(l);try{for(s.s();!(e=s.n()).done;){var i=e.value;switch(i.type){case"Admin Access":r.push({srn:i.id,no:o+1,feature:i.featureText,id:i.featureId,featureDescription:i.featureDescription,type:i.type}),o++;break;case"View Access":t.push({srn:i.id,feature:i.featureText,no:c+1,id:i.featureId,featureDescription:i.featureDescription,type:i.type}),c++;break;case"Write Access":n.push({srn:i.id,feature:i.featureText,id:i.featureId,no:a+1,featureDescription:i.featureDescription,type:i.type}),a++}}}catch(d){s.e(d)}finally{s.f()}var u=[{srn:"",feature:"View Access",id:"view_access",featureDescription:""}].concat(t,[{srn:"",feature:"Write Access",id:"write_access",featureDescription:""}],n,[{srn:"",feature:"Admin Access",id:"admin_access",featureDescription:""}],r);re(Object(p.a)(Object(p.a)({},te),{},{rows:u}))}}),[l,u]);var ce=null===x||void 0===x||null===(t=x.featureID)||void 0===t?void 0:t.split("~");Object(a.useEffect)((function(){u&&function(){var e;if(null!==te&&void 0!==te&&null!==(e=te.rows)&&void 0!==e&&e.length){var t,r=[];null===te||void 0===te||null===(t=te.rows)||void 0===t||t.forEach((function(e,t){null!==ce&&void 0!==ce&&ce.includes(e.id)&&r.push(e.srn)})),Q(r)}}()}),[u,null===te||void 0===te?void 0:te.rows]);var oe={mode:"checkbox",clickToSelect:!0,selected:K,onSelect:function(e,t){Q(t?[].concat(Object(d.a)(K),[null===e||void 0===e?void 0:e.srn]):K.filter((function(t){return t!==e.srn})))},onSelectAll:function(e,t){var r,n=[],a=Object(f.a)(t);try{for(a.s();!(r=a.n()).done;){var c,o=r.value;null!==o&&void 0!==o&&null!==(c=o.srn)&&void 0!==c&&c.toString()&&n.push(null===o||void 0===o?void 0:o.srn)}}catch(s){a.e(s)}finally{a.f()}Q(e?n:[])},selectColumnStyle:function(e){e.checked,e.disabled,e.rowIndex;return{display:e.rowKey.toString()?"block":"none"}}};if(v)return Object(k.jsx)(i.Spinner,{className:"spinner",type:"border",color:"dark"});var se={groupname:u?null===x||void 0===x?void 0:x.grpName:"",desc:u?null===x||void 0===x?void 0:x.groupDescription:""},ie=m.a().shape({groupname:u?m.b().notRequired():m.b().required("This Field is required!"),desc:m.b().required("This Field is required!")});return Object(k.jsx)(h.b,{initialValues:se,enableReinitialize:!0,validationSchema:ie,onSubmit:function(e,t){!function(e,t){if(!u&&!W.length)return w.a.error("please select the group feature. ");if(!R.length)return M(!0);var r="";if(u){var n,a=[],o=Object(f.a)(null===te||void 0===te?void 0:te.rows);try{for(o.s();!(n=o.n()).done;){var s=n.value;K.includes(s.srn)&&a.push({srn:s.srn,feature:s.feature,id:s.id,featureDescription:s.featureDescription})}}catch(g){o.e(g)}finally{o.f()}for(var i=0,l=a;i<l.length;i++){var d=l[i];r="".concat(r,"~").concat(d.id)}}else{var p,b=Object(f.a)(W);try{for(b.s();!(p=b.n()).done;){var j=p.value;r="".concat(r,"~").concat(j.id)}}catch(g){b.e(g)}finally{b.f()}}var m,v="",O=Object(f.a)(R);try{for(O.s();!(m=O.n()).done;){var h=m.value;v="".concat(v,"~").concat(h.value)}}catch(g){O.e(g)}finally{O.f()}t(),c(Object(N.h)({data:{id:u?null===x||void 0===x?void 0:x.id:void 0,groupName:e.groupname,groupDescription:e.desc,shipper:v.substring(1,v.length),featureIds:r.substring(1,r.length)},onCreateGroup:ae}))}(e,t.resetForm)},children:function(e){var t=e.values,r=e.errors,n=e.handleChange,a=e.touched;e.setFieldValue;return Object(k.jsx)(h.a,{children:Object(k.jsxs)("div",{className:"".concat(y&&"hidesection"," "),children:[y&&Object(k.jsx)(C.a,{}),Object(k.jsx)("h4",{className:"text-bold mb-3",children:u?"Edit Group":"Create Group"}),Object(k.jsxs)("div",{className:"row justify-content-start wrapper",children:[Object(k.jsx)("div",{className:"col-lg-3",children:Object(k.jsxs)(i.FormGroup,{children:[Object(k.jsx)(i.Label,{for:"exampleEmail",children:"Group Name"}),Object(k.jsx)(i.Input,{onChange:function(e){n(e)},type:"text",name:"groupname",invalid:r.groupname&&a.groupname,disabled:u,value:t.groupname,id:"exampleEmail",placeholder:"Group Name"}),Object(k.jsx)(i.FormFeedback,{children:r.groupname})]})}),Object(k.jsx)("div",{className:"col-lg-3",children:Object(k.jsxs)(i.FormGroup,{children:[Object(k.jsx)(i.Label,{for:"examplePassword",children:"Description"}),Object(k.jsx)(i.Input,{onChange:function(e){return n(e)},type:"text",invalid:r.desc&&a.desc,value:t.desc,name:"desc",id:"examplePassword",placeholder:"description"}),Object(k.jsx)(i.FormFeedback,{children:r.desc})]})}),Object(k.jsx)("div",{className:"col-lg-3",children:Object(k.jsxs)(i.FormGroup,{children:[Object(k.jsx)(i.Label,{for:"exampleSelect",children:"Select Company/Shipper"}),Object(k.jsx)(g.a,{isMulti:!0,options:G,value:R,classNamePrefix:"react-select",className:"react-select-container",onChange:function(e){_(e)}}),L&&Object(k.jsx)(i.FormFeedback,{style:{display:"block"},children:"Please select Shipper"})]})})]}),Object(k.jsx)("div",{className:"mt-2 ",children:u?Object(k.jsx)(S.a,{keyField:"srn",data:null===te||void 0===te?void 0:te.rows,columns:ne,bordered:!1,selectRow:oe}):Object(k.jsx)(O.a,{columns:null===te||void 0===te?void 0:te.columns,data:null===te||void 0===te?void 0:te.rows,customStyles:D.a,selectableRowsComponent:P,selectableRows:!0,onSelectedRowsChange:Z})}),Object(k.jsx)(i.Button,{type:"submit",className:"mt-2",children:"Submit"})]})})}})},G=c.a.memo(I),P=c.a.forwardRef((function(e,t){var r=e.onClick,n=Object(u.a)(e,A);return Object(k.jsx)("div",{children:n.name.includes("view_access")||n.name.includes("write_access")||n.name.includes("admin_access")?null:Object(k.jsxs)("div",{className:"form-check ",style:{backgroundColor:""},children:[Object(k.jsx)("input",Object(p.a)({type:"checkbox",className:"form-check-input",ref:t,onClick:r},n)),Object(k.jsx)("label",{className:"form-check-label",id:"booty-check"})]})})})),E=r(137),U=r.n(E),T=r(190),R=function(e){var t=e.toggleAddData,r=e.setToggleAddData,c=Object(o.c)((function(e){return e.auth.Currentuser})),u=Object(s.g)(),d=Object(a.useState)([]),p=Object(n.a)(d,2),v=p[0],O=p[1],g=Object(o.b)(),w=function(){var e=Object(j.a)(Object(b.a)().mark((function e(){var t,r,n,a,c,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/v1/webapp/getUserGroups/All");case 2:r=e.sent,n=[],a=Object(f.a)(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.response);try{for(a.s();!(c=a.n()).done;)(o=c.value).groupName&&n.push({groupName:o.groupName,featureIds:o.featureIds})}catch(s){a.e(s)}finally{a.f()}O(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){w()}),[]);var y={group:(null===c||void 0===c?void 0:c.loggedInGroup)||""},S=m.a().shape({group:m.b().required("This Field is required!")}),C=function(e,t){"success"===e?(x.toast.success("Switched Group"),localStorage.setItem("originalgrp",null===t||void 0===t?void 0:t.originalGroup),g(Object(N.Q)(t)),r(),u.push("/dashboard")):x.toast.error("User name or Email Already Exist!")};return Object(k.jsx)(l.a,{title:"Preview Group",isOpen:t,toggle:function(){return r()},className:"create-edit-item",children:Object(k.jsx)("div",{className:"mt-2 mb-2 mx-1 ",children:Object(k.jsx)(h.b,{initialValues:y,enableReinitialize:!0,validationSchema:S,onSubmit:function(e,t){t.resetForm;!function(e,t){var r={targetGroup:e.group,uuid:null===c||void 0===c?void 0:c.uuid,loggedInGroup:null===c||void 0===c?void 0:c.loggedInGroup};g(Object(N.a)({data:r,handleSuccess:C}))}(e)},children:function(e){var t=e.values,r=e.errors,n=e.handleChange,a=e.touched;e.setFieldValue;return Object(k.jsxs)(h.a,{children:[Object(k.jsxs)(i.FormGroup,{row:!0,children:[Object(k.jsx)(i.Label,{for:"exampleSelect",style:{whiteSpace:"nowrap"},sm:3,children:"Preview Group"}),Object(k.jsxs)(i.Col,{sm:9,children:[Object(k.jsxs)(i.Input,{invalid:r.group&&a.group,type:"select",name:"group",value:t.group,onChange:n,id:"exampleSelect",children:[Object(k.jsx)("option",{children:"Select Group"}),null===v||void 0===v?void 0:v.map((function(e){return Object(k.jsx)("option",{value:e.groupName,children:e.groupName},e.featureIds)}))]}),Object(k.jsx)(i.FormFeedback,{children:r.group})]})]}),Object(k.jsx)(i.Button,{className:"my-3 px-4",type:"submit",color:"danger",children:"Preview Group"})]})}})})})},_=function(e){var t=e.setactiveTab,r=Object(o.b)(),c=Object(a.useState)(0),s=Object(n.a)(c,2),l=s[0],u=s[1],d=Object(a.useState)(10),m=Object(n.a)(d,2),v=m[0],h=m[1],g=Object(a.useState)(!1),w=Object(n.a)(g,2),y=w[0],S=w[1],C=Object(o.c)((function(e){var t;return null===(t=e.auth.Currentuser)||void 0===t?void 0:t.featureIds})),A=null===C||void 0===C?void 0:C.split("~"),I=Object(a.useState)({open:!1,row:{},delete:!1}),G=Object(n.a)(I,2),P=G[0],E=G[1],_=Object(a.useState)(0),B=Object(n.a)(_,2),q=B[0],L=B[1],M=Object(a.useState)(0),Y=Object(n.a)(M,2),V=Y[0],W=Y[1],z=function(){var e=Object(j.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/v1/webapp/deleteUserGroup",{groupName:t.grpName});case 2:e.sent,x.toast.success("Group deleted Successfully!"),r(Object(N.N)({currPage:q,perPage:v}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){var t=e.row;return Object(k.jsxs)(k.Fragment,{children:[(null===A||void 0===A?void 0:A.includes("FT_ID_5"))&&Object(k.jsx)("i",{className:"fas fa-pen pointer fa-lg cursor-pointer",title:"Update",onClick:function(){E({open:!0,row:t,delete:!1})},"data-toggle":"modal"}),(null===A||void 0===A?void 0:A.includes("FT_ID_6"))&&Object(k.jsx)("i",{className:"far mx-3 fa-trash-alt pointer fa-lg cursor-pointer",title:"Delete",onClick:function(){0===t.userattached?E({open:!0,row:t,delete:!0}):x.toast.error("Cannot delete group with Users.")},"data-toggle":"modal"})," "]})},J=Object(a.useState)({columns:[{name:"#",selector:function(e){return e.srno},width:"7%"},{id:"grpName",name:"Group Name",selector:function(e){return e.grpName},width:"20%",sortServer:!0,sortable:!0},{id:"userattached",name:"Active Users",selector:function(e){return e.userattached},width:"20%",sortServer:!0,sortable:!0},{id:"createdby",name:"Created By",selector:function(e){return e.createdby},width:"20%",sortServer:!0,sortable:!0},{id:"createdAt",name:"Created On",selector:function(e){return e.createdAt},width:"20%",sortServer:!0,sortable:!0},{name:"Action",width:"13%",cell:function(e){return Object(k.jsx)(H,{row:e})}}],rows:[]}),K=Object(n.a)(J,2),Q=K[0],X=K[1];Object(a.useEffect)((function(){r(Object(N.N)({currPage:q,perPage:v})),W(q*v)}),[v,q]);var Z=Object(o.c)((function(e){return e.accessReducers})),$=Z.AllGroups,ee=Z.isLoading;Object(a.useEffect)((function(){var e;if(null!==$&&void 0!==$&&null!==(e=$.response)&&void 0!==e&&e.length){var t,r,n,a=[],c=V,o=Object(f.a)(null===$||void 0===$||null===(r=$.response[0])||void 0===r?void 0:r.searchResult);try{for(o.s();!(n=o.n()).done;){var s,i=n.value;a.push({srno:c+1,srn:i.id,shipper:null!==i&&void 0!==i&&i.shipper?null===i||void 0===i||null===(s=i.shipper)||void 0===s?void 0:s.split("~"):[],createdby:i.createdBy,grpName:i.groupName,createdAt:i.createdAt?U()(i.createdAt).format("MM/DD/YYYY"):U()(i.updatedAt).format("MM/DD/YYYY"),id:i.id,featureID:i.featureIds,groupDescription:i.groupDescription,userattached:i.noOfUserAttached}),c+=1}}catch(l){o.e(l)}finally{o.f()}X(Object(p.a)(Object(p.a)({},Q),{},{rows:a})),u(null===$||void 0===$||null===(t=$.response[0])||void 0===t?void 0:t.totalCount)}}),[null===$||void 0===$?void 0:$.response]);var te=function(){var e=Object(j.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ee?Object(k.jsx)(i.Spinner,{className:"spinner",type:"border",color:"dark"}):Object(k.jsxs)("div",{className:"mt-4",children:[Object(k.jsx)("h4",{className:"text-bold mb-2",children:"Groups"}),Object(k.jsx)(i.Button,{style:{fontWeight:"bolder"},type:"button",onClick:function(){t("features")},color:"danger",className:"my-2  ",children:"Create Group"}),Object(k.jsx)(i.Button,{style:{fontWeight:"bolder"},type:"button",onClick:function(){S(!0)},color:"danger",className:"my-2  mx-3",children:"Preview Group"}),Object(k.jsx)(O.a,{columns:null===Q||void 0===Q?void 0:Q.columns,data:null===Q||void 0===Q?void 0:Q.rows,customStyles:D.a,paginationTotalRows:l,pagination:!0,paginationServer:!0,paginationRowsPerPageOptions:[10,25,50,100],paginationDefaultPage:q+1,onChangePage:function(e){L(e-1)},onChangeRowsPerPage:te,paginationPerPage:v}),Object(k.jsx)(T.a,{title:P.delete?"Delete Group Confirmation":"Edit Group Confirmation",question:P.delete?"Delete will Remove the existing record. Do you still want to continue?":"Any edit will update the existing record. Do you still want to continue?",isOpen:P.open,toggle:function(){return E({open:!1,row:{},delete:!1})},handleSubmit:function(){P.delete?z(P.row):r(Object(N.ab)({ModiFygroup:!0,modifyrow:P.row})),E({open:!1,row:{},delete:!1})}}),y&&Object(k.jsx)(R,{toggleAddData:y,setToggleAddData:function(){return S(!1)}})]})},B=function(e){var t=e.toggleAddData,r=e.setToggleAddData,c=e.isEdit,s=e.row,u=Object(a.useState)([]),d=Object(n.a)(u,2),v=d[0],O=d[1],g=Object(o.b)(),w=function(){var e=Object(j.a)(Object(b.a)().mark((function e(){var t,r,n,a,c,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/v1/webapp/getUserGroups/All");case 2:r=e.sent,n=[],a=Object(f.a)(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.response);try{for(a.s();!(c=a.n()).done;)(o=c.value).groupName&&n.push({groupName:o.groupName,featureIds:o.featureIds})}catch(s){a.e(s)}finally{a.f()}O(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){w()}),[]);var y={username:c?s.username:"",emailId:c?s.email:"",group:c?s.groupName:""},S=m.a().shape({username:m.b().required("This Field is required!"),emailId:m.b().email("Please enter valid email format").required("This Field is required!"),group:m.b().required("This Field is required!")}),C=function(e){c?"success"===e?(x.toast.success("Updated User Successfully"),g(Object(N.r)({currPage:0,perPage:10})),r()):x.toast.error("User name or Email Already Exist!"):"success"===e?(x.toast.success(" User Created Successfully"),r(),g(Object(N.r)({currPage:0,perPage:10}))):x.toast.error("User name or Email Already Exist!")};return Object(k.jsx)(l.a,{title:c?"Edit User":"Add User",isOpen:t,toggle:function(){return r()},className:"create-edit-item",children:Object(k.jsx)("div",{className:"mt-2 mb-2 mx-1 ",children:Object(k.jsx)(h.b,{initialValues:y,enableReinitialize:!0,validationSchema:S,onSubmit:function(e,t){t.resetForm;!function(e,t){var r={username:e.username,email:e.emailId,groupName:e.group,shipper:e.company};g(Object(N.k)({data:c?Object(p.a)(Object(p.a)({},r),{},{id:s.id}):Object(p.a)({},r),handleSuccess:C}))}(e)},children:function(e){var t=e.values,r=e.errors,n=e.handleChange,a=e.touched;e.setFieldValue;return Object(k.jsxs)(h.a,{children:[Object(k.jsxs)(i.FormGroup,{row:!0,children:[Object(k.jsx)(i.Label,{for:"exampleEmail",sm:2,children:"User Name"}),Object(k.jsxs)(i.Col,{sm:10,children:[Object(k.jsx)(i.Input,{invalid:r.username&&a.username,type:"text",name:"username",id:"exampleEmail",value:t.username,onChange:n,placeholder:"User Name"}),Object(k.jsx)(i.FormFeedback,{children:r.username})]})]}),Object(k.jsxs)(i.FormGroup,{row:!0,children:[Object(k.jsx)(i.Label,{for:"examplePassword",sm:2,children:"Email"}),Object(k.jsxs)(i.Col,{sm:10,children:[Object(k.jsx)(i.Input,{invalid:r.emailId&&a.emailId,type:"email",value:t.emailId,onChange:n,name:"emailId",id:"examplePassword",placeholder:"Email"}),Object(k.jsx)(i.FormFeedback,{children:r.emailId})]})]}),Object(k.jsxs)(i.FormGroup,{row:!0,children:[Object(k.jsx)(i.Label,{for:"exampleSelect",style:{whiteSpace:"nowrap"},sm:2,children:"Select Group"}),Object(k.jsxs)(i.Col,{sm:10,children:[Object(k.jsxs)(i.Input,{invalid:r.group&&a.group,type:"select",name:"group",value:t.group,onChange:n,id:"exampleSelect",children:[Object(k.jsx)("option",{children:"Select Group"}),null===v||void 0===v?void 0:v.map((function(e){return Object(k.jsx)("option",{value:e.groupName,children:e.groupName},e.featureIds)}))]}),Object(k.jsx)(i.FormFeedback,{children:r.group})]})]}),Object(k.jsx)(i.Button,{className:"my-3 px-4",type:"submit",color:"danger",children:c?"Edit User":"Add User"})]})}})})})},q=function(){var e=Object(a.useState)({open:!1,row:{}}),t=Object(n.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)(0),l=Object(n.a)(s,2),u=l[0],d=l[1],m=Object(a.useState)({open:!1,row:{},delete:!1}),v=Object(n.a)(m,2),h=v[0],g=v[1],w=Object(a.useState)(10),y=Object(n.a)(w,2),S=y[0],A=y[1],I=Object(o.c)((function(e){var t;return null===(t=e.auth.Currentuser)||void 0===t?void 0:t.featureIds})),G=null===I||void 0===I?void 0:I.split("~"),P=Object(a.useState)(0),E=Object(n.a)(P,2),R=E[0],_=E[1],q=Object(o.b)(),L=Object(a.useState)(0),M=Object(n.a)(L,2),Y=M[0],V=M[1],W=function(){var e=Object(j.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/v1/webapp/deleteUser",{userUUID:t.uuid});case 2:"200"===e.sent.data.responseCode?(x.toast.success("User deleted Successfully!"),q(Object(N.r)({currPage:R,perPage:S}))):x.toast.error("User delete Failed!");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t=e.row;return Object(k.jsxs)(k.Fragment,{children:[(null===G||void 0===G?void 0:G.includes("FT_ID_5"))&&Object(k.jsx)("i",{className:"fas fa-pen pointer fa-lg cursor-pointer",title:"Update",onClick:function(){return function(e){g({open:!0,row:e,delete:!1})}(t)},"data-toggle":"modal"}),(null===G||void 0===G?void 0:G.includes("FT_ID_6"))&&Object(k.jsx)("i",{className:"far mx-3 fa-trash-alt pointer fa-lg cursor-pointer",title:"Delete",onClick:function(){return function(e){g({open:!0,row:e,delete:!0})}(t)},"data-toggle":"modal"})]})},H=Object(a.useState)(!1),J=Object(n.a)(H,2),K=J[0],Q=J[1],X=Object(a.useState)({columns:[{name:"#",selector:function(e){return e.srno},width:"5%"},{id:"groupName",name:"Group Name",selector:function(e){return e.groupName},width:"15%",sortable:!0},{id:"username",name:"User Name",selector:function(e){return e.username},width:"15%"},{id:"createdby",name:"Created By",selector:function(e){return e.updatedBy},width:"15%"},{id:"createdAt",name:"Created On",selector:function(e){return e.updatedAt},width:"15%",sortServer:!0,sortable:!0},{name:"Email",width:"20%",selector:function(e){return e.email}},{name:"Action",width:"15%",cell:function(e){return Object(k.jsx)(z,{row:e})}}],rows:[]}),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],te=Object(o.c)((function(e){return e.accessReducers})),re=te.AllUsers,ne=te.isLoading,ae=te.isCreating;if(Object(a.useEffect)((function(){q(Object(N.r)({currPage:R,perPage:S})),V(R*S)}),[S,R]),Object(a.useEffect)((function(){var e;if(null!==re&&void 0!==re&&null!==(e=re.response)&&void 0!==e&&e.length){var t,r,n,a=[],c=Y,o=Object(f.a)(null===re||void 0===re||null===(r=re.response[0])||void 0===r?void 0:r.searchResult);try{for(o.s();!(n=o.n()).done;){var s=n.value;a.push({groupName:s.groupName,username:s.username,email:s.email,id:s.id,uuid:s.uuid,updatedAt:U()(s.updatedAt).format("MM/DD/YYYY"),updatedBy:s.updatedBy,srno:c+1}),c+=1}}catch(i){o.e(i)}finally{o.f()}ee(Object(p.a)(Object(p.a)({},$),{},{rows:a})),d(null===re||void 0===re||null===(t=re.response[0])||void 0===t?void 0:t.totalCount)}}),[null===re||void 0===re?void 0:re.response]),ne)return Object(k.jsx)(i.Spinner,{className:"spinner",type:"border",color:"dark"});var ce=function(){var e=Object(j.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"".concat(ae&&"hidesection"),children:[Object(k.jsx)("h4",{className:"text-bold",children:"Users"}),Object(k.jsxs)("div",{className:"mt-3",children:[ae&&Object(k.jsx)(C.a,{}),Object(k.jsx)(i.Button,{type:"button",color:"danger",className:"my-2",onClick:function(){return Q(!0)},children:"Add User"}),Object(k.jsx)(O.a,{columns:null===$||void 0===$?void 0:$.columns,data:null===$||void 0===$?void 0:$.rows,paginationTotalRows:u,pagination:!0,paginationServer:!0,paginationRowsPerPageOptions:[10,25,50,100],paginationDefaultPage:R+1,customStyles:D.a,onChangePage:function(e){_(e-1)},onChangeRowsPerPage:ce,paginationPerPage:S})]}),K&&Object(k.jsx)(B,{toggleAddData:K,setToggleAddData:function(){return Q(!1)}}),r.open&&Object(k.jsx)(B,{isEdit:!0,toggleAddData:r.open,row:r.row,setToggleAddData:function(){return c({open:!1,row:{}})}}),Object(k.jsx)(T.a,{title:h.delete?"Delete User Confirmation":"Edit User Confirmation",question:h.delete?"Delete will Remove the existing record. Do you still want to continue?":"Any edit will update the existing record. Do you still want to continue?",isOpen:h.open,toggle:function(){return g({open:!1,row:{},delete:!1})},handleSubmit:function(){h.delete?W(h.row):c({open:!0,row:h.row}),g({open:!1,row:{},delete:!1})}})]})};t.default=function(){var e=Object(a.useState)("users"),t=Object(n.a)(e,2),r=t[0],c=t[1],l=Object(o.c)((function(e){return e.accessReducers})).ModiFygroup;Object(a.useEffect)((function(){l&&c("features")}),[l]);var u=Object(s.h)(),d=Object(s.g)(),p=Object(o.c)((function(e){var t;return null===(t=e.auth.Currentuser)||void 0===t?void 0:t.featureIds})),b=null===p||void 0===p?void 0:p.split("~");Object(a.useEffect)((function(){u.search&&c(u.search.split("=")[1])}),[u]);var j=function(e){d.push("/access-management?tab=".concat(e))};return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"wrapper mb-4 justify-content-start w-100",children:[(null===b||void 0===b?void 0:b.includes("FT_ID_16"))&&Object(k.jsx)(i.Button,{type:"button",style:{fontWeight:"bolder"},color:"users"===r?"danger":"secondary",outline:"users"===r,onClick:function(){j("users")},className:"mt-2 px-4",children:"Manage Users"}),(null===b||void 0===b?void 0:b.includes("FT_ID_17"))&&Object(k.jsx)(i.Button,{type:"button",onClick:function(){j("groups")},style:{fontWeight:"bolder"},outline:"groups"===r||"features"===r,color:"groups"===r||"features"===r?"danger":"secondary",className:"mt-2 px-4 mx-3",children:"Manage Groups"})]}),"features"===r&&Object(k.jsx)(G,{redirecttoGrp:function(){return c("groups")}}),"users"===r&&Object(k.jsx)(q,{}),"groups"===r&&Object(k.jsx)(_,{setactiveTab:function(){return c("features")}})]})}}}]);
//# sourceMappingURL=12.df26715b.chunk.js.map