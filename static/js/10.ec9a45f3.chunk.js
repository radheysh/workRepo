(this.webpackJsonpFTI_POC=this.webpackJsonpFTI_POC||[]).push([[10],{155:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={rows:{style:{minHeight:"50px"}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px",fontSize:"17px",fontFamily:"SourceSansProSemiBold",opacity:"0.8",display:"flex",justifyContent:"space-between"}},headRow:{style:{borderTopWidth:"1px",borderTopColor:"rgba(0,0,0,.12)",borderTopStyle:"solid"}},cells:{style:{paddingLeft:"8px",paddingRight:"8px",fontSize:"16px"}}}},220:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n,s=a(1),o=["title","titleId"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function r(e,t){var a=e.title,r=e.titleId,i=l(e,o);return s.createElement("svg",c({viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),a?s.createElement("title",{id:r},a):null,n||(n=s.createElement("path",{d:"M304 416h-64a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.77 160 16 160zm416 0H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-64 128H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM496 32H240a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h256a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"})))}var i=s.forwardRef(r);a.p},456:function(e,t,a){},531:function(e,t,a){"use strict";a.r(t);var n=a(26),s=a(6),o=a(148),c=a(140),l=a(5),r=a(38),i=a(25),d=a(20),u=a(166),j=a.n(u),b=a(1),p=a.n(b),O=a(27),m=a(137),f=a.n(m),h=a(155),x=a(10),v=a(526),g=a(39),N=a(8),S=function(e){var t=Object(d.b)(),a=Object(d.c)((function(e){return e.dashboard})).isLoading,n=e.toggleAddData,s=e.setToggleAddData,o=e.getData,c=Object(b.useState)(!1),u=Object(r.a)(c,2),j=u[0],O=u[1],m=p.a.createRef(),f=function(e){var a,n,c=(null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.files[0])||e[0],l=(null===(n=e.target)||void 0===n?void 0:n.files[0].size)||e[0].size,r=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].indexOf(c.type),i=new FormData;i.append("file",c),l>10485760?(O(!0),t(Object(x.Y)({isOpen:!0,message:"File Upload Max Size Limit Exceeded.",type:"error"}))):-1===r?(O(!0),t(Object(x.Y)({isOpen:!0,message:"File Format Not Supported.",type:"error"}))):(O(!1),t(Object(x.cb)({file:i,setToggleAddData:s,getData:o})))};return Object(N.jsx)(g.a,{title:"Upload File",isOpen:n,toggle:function(){return s((function(e){return!e}))},className:"create-edit-item",children:Object(N.jsxs)("div",{className:"upload_container",children:[Object(N.jsxs)("div",{className:"upload_box",children:[Object(N.jsx)(v.a,{onDrop:function(e){return f(e)},children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(N.jsx)("section",{children:Object(N.jsxs)("div",Object(l.a)(Object(l.a)({},t()),{},{children:[Object(N.jsx)("p",{className:"f28 pointer",children:Object(N.jsx)("i",{className:"fa-solid fa-arrow-up-from-bracket"})}),Object(N.jsx)("input",Object(l.a)({},a())),Object(N.jsx)("p",{children:"Drag & Drop your file here"})]}))})}}),Object(N.jsx)("p",{className:"sm_label",children:"OR"}),Object(N.jsxs)("div",{children:[Object(N.jsx)(i.Button,{color:"danger",onClick:function(){m.current.click()},children:a?Object(N.jsx)("i",{className:"fa-solid fa-circle-notch fa-spin"}):"Browse File"}),Object(N.jsx)("input",{type:"file",accept:".csv, .xlsx, .xlsm, .xlsb, .xls",onChange:f,ref:m})]})]}),Object(N.jsxs)("p",{className:j?"disclaimer error":"disclaimer",children:["Supported file extension : ",Object(N.jsx)("strong",{children:".xlsx"})]}),Object(N.jsxs)("p",{className:j?"disclaimer error":"disclaimer",children:["Maximum size allowed : ",Object(N.jsx)("strong",{children:"10 MB"})]}),Object(N.jsxs)("p",{className:j?"disclaimer error":"disclaimer",children:["Compatible Sheet :"," ",Object(N.jsx)("strong",{children:Object(N.jsx)("a",{href:"http://52.52.23.162/Reference.xlsx",children:"Reference.xlsx"})})]})]})})},D=function(e){var t=e.isOpen,a=e.toggle,s=e.filterData,o=e.setFilterData,c=e.resetFilterValues,d=e.setConvertedFilterData,u=Object(b.useState)({}),j=Object(r.a)(u,2),p=j[0],O=j[1];Object(b.useEffect)((function(){O(Object(l.a)({},s))}),[s]);var m=new Date,f=(new Date).toISOString().split("T")[0],h=function(e){var t,a,s=e.target,o=s.name,c=s.value;O(Object(l.a)(Object(l.a)(Object(l.a)({},p),{},Object(n.a)({},o,c),["uploadedFrom","uploadedTo"].includes(o)&&{uploadedDate:""}),"uploadedDate"===o&&(t={},Object(n.a)(t,o,c),Object(n.a)(t,"uploadedFrom",""===c?c:(a=c,new Date(m.setDate(m.getDate()-Number(a))).toISOString().split("T")[0])),Object(n.a)(t,"uploadedTo",""===c?c:f),t)))};return Object(N.jsx)(g.a,{isOpen:t,toggle:function(){return a((function(e){return!e}))},title:"Filter By",children:Object(N.jsxs)("div",{className:"p-2 pt-0 filter",children:[Object(N.jsxs)(i.Row,{className:"mt-3",children:[Object(N.jsxs)(i.Col,{children:[Object(N.jsx)("label",{htmlFor:"uploadedDate",className:"form-label",children:"Uploaded Date"}),Object(N.jsxs)("select",{name:"uploadedDate",className:"is-untouched is-pristine av-valid form-select",onChange:h,value:p.uploadedDate,children:[Object(N.jsx)("option",{value:"",children:"Anytime"}),Object(N.jsx)("option",{value:"10",children:"Last 10 Days"}),Object(N.jsx)("option",{value:"20",children:"Last 20 Days"}),Object(N.jsx)("option",{value:"30",children:"Last 30 Days"})]})]}),Object(N.jsxs)(i.Col,{children:[Object(N.jsx)("label",{htmlFor:"uploadedFrom",className:"form-label",children:"From"}),Object(N.jsx)("input",{type:"date",name:"uploadedFrom",className:"is-untouched is-pristine av-valid form-control",onChange:h,value:""!==p.uploadedTo&&""===p.uploadedFrom?p.uploadedTo:p.uploadedFrom,disabled:p.uploadedDate})]}),Object(N.jsxs)(i.Col,{children:[Object(N.jsx)("label",{htmlFor:"uploadedTo",className:"form-label",children:"To"}),Object(N.jsx)("input",{type:"date",name:"uploadedTo",className:"is-untouched is-pristine av-valid form-control",onChange:h,value:""===p.uploadedTo&&""!==p.uploadedFrom?f:p.uploadedTo,disabled:p.uploadedDate})]})]}),Object(N.jsx)(i.Row,{className:"mt-3",children:Object(N.jsxs)(i.Col,{md:6,children:[Object(N.jsx)("label",{htmlFor:"processingStatus",className:"form-label",children:"Status"}),Object(N.jsxs)("select",{name:"processingStatus",className:"is-untouched is-pristine av-valid form-select",onChange:h,value:p.processingStatus,children:[Object(N.jsx)("option",{children:"No Status"}),Object(N.jsx)("option",{value:"RECEIVED",children:"RECEIVED"}),Object(N.jsx)("option",{value:"PROCCESSED",children:"PROCCESSED"}),Object(N.jsx)("option",{value:"ERRONEOUS",children:"INVALID FILE"})]})]})}),Object(N.jsxs)(i.Row,{className:"mt-3",children:[Object(N.jsx)(i.Col,{md:5,children:Object(N.jsx)(i.Button,{color:"danger",className:"w-100",onClick:function(){""!==p.uploadedTo&&""===p.uploadedFrom&&(p.uploadedFrom=p.uploadedTo),""===p.uploadedTo&&""!==p.uploadedFrom&&(p.uploadedTo=f),o(p);var e=Object(l.a)({},p);Object.keys(e).forEach((function(t){""===e[t]&&delete e[t]})),delete e.uploadedDate;var t=Object.entries(e).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return Object(l.a)({name:a,value:n},["uploadedFrom","uploadedTo"].includes(a)&&{name:"updatedDate",value:n,type:"uploadedTo"===a?"END_DATE":"START_DATE"})}));d(t),a(!1)},children:"Apply"})}),Object(N.jsx)(i.Col,{md:5,children:Object(N.jsx)(i.Button,{outline:!0,color:"secondary",className:"w-100 text-semi-bold",onClick:function(){O({processingStatus:"",uploadedDate:"",uploadedFrom:"",uploadedTo:""}),c()},children:"Reset"})})]})]})})},F=a(220),y=(a(456),a(43));function C(e){var t=e.status,a=e.message,n=e.id,s=Object(b.useState)(!1),o=Object(r.a)(s,2),c=o[0],l=o[1];return"PROCCESSED"===t?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("span",{className:"sucess",children:t})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:"fail",id:"Tooltip".concat(n),children:"INVALID FILE"}),Object(N.jsx)(i.Tooltip,{placement:"top",isOpen:c,target:"Tooltip".concat(n),toggle:function(){return l(!c)},children:a})]})}t.default=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.dashboard})).alertData,a=Object(b.useState)(!1),u=Object(r.a)(a,2),p=u[0],m=u[1],v=Object(b.useState)(0),g=Object(r.a)(v,2),T=g[0],w=g[1],R=Object(b.useState)(10),E=Object(r.a)(R,2),I=E[0],A=E[1],P=Object(b.useState)(!1),k=Object(r.a)(P,2),L=k[0],_=k[1],B=Object(b.useState)({uploadedDate:"",uploadedFrom:"",uploadedTo:"",processingStatus:""}),z=Object(r.a)(B,2),U=z[0],V=z[1],M=Object(d.c)((function(e){var t;return null===(t=e.auth.Currentuser)||void 0===t?void 0:t.featureIds})),H=null===M||void 0===M?void 0:M.split("~"),Y=Object(d.c)((function(e){return e.dashboard})),J=Y.isLoading,K=Y.uploadData,G=Object(b.useState)(!1),W=Object(r.a)(G,2),Z=W[0],$=W[1],q=Object(b.useState)(0),Q=Object(r.a)(q,2),X=Q[0],ee=Q[1],te=Object(b.useState)([]),ae=Object(r.a)(te,2),ne=ae[0],se=ae[1],oe=Object(b.useState)([]),ce=Object(r.a)(oe,2),le=ce[0],re=ce[1],ie=Object(b.useState)({}),de=Object(r.a)(ie,2),ue=de[0],je=de[1],be=Object(b.useState)({attibName:"updatedDate",sortType:"desc"}),pe=Object(r.a)(be,2),Oe=pe[0],me=pe[1],fe=Object(b.useState)({columns:[{name:"No.",selector:function(e){return e.srn},width:"5%",sortServer:!0,sortable:!0},{id:"inputFileName",name:"File Name",selector:function(e){return e.fileName},width:"45%",sortServer:!0,sortable:!0},{id:"updatedDate",name:"Uploaded On",selector:function(e){return e.uploadedAt},width:"20%",sortServer:!0,sortable:!0},{id:"noOfRecord",name:"No. of Shipments",selector:function(e){return e.noofrecords},width:"15%",sortServer:!0,sortable:!0},{id:"processingStatus",name:"Status",selector:function(e){return e.status},width:"15%",sortServer:!0,sortable:!0}],rows:[]}),he=Object(r.a)(fe,2),xe=he[0],ve=he[1],ge=function(t){e(Object(x.I)(Object(l.a)(Object(l.a)({pageNumber:t,perPage:I},ne.length&&{filters:ne}),{},{sortKey:Object(l.a)({},Oe)})))};Object(b.useEffect)((function(){ge(0),ne&&re(Object(c.a)(ne.filter((function(e,t,a){return t===a.findIndex((function(t){return t.name===e.name}))}))))}),[ne,Oe,I]),Object(b.useEffect)((function(){ve(Object(l.a)(Object(l.a)({},xe),{},{rows:null===K||void 0===K?void 0:K.searchResult.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{srn:t+1+X*I,status:Object(N.jsx)(C,{status:null===e||void 0===e?void 0:e.processingStatus,message:null===e||void 0===e?void 0:e.errorDetails,id:t,ledgerSyncStatus:null===e||void 0===e?void 0:e.ledgerSyncStatus}),fileName:null===e||void 0===e?void 0:e.inputFileName,noofrecords:(null===e||void 0===e?void 0:e.noOfRecord)||"N.A",uploadedAt:f.a.utc(e.updatedDate).format("MM/DD/YYYY, HH:mm UTC")})}))})),null!==K&&void 0!==K&&K.searchResult&&$(!0),w(null===K||void 0===K?void 0:K.totalCount)}),[K]);var Ne=function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(e){var t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)};Object(b.useEffect)((function(){var t=setTimeout((function(){Object.keys(ue).length>0&&e(Object(x.I)({pageNumber:0,perPage:I,filters:[ue],sortKey:Object(l.a)({},Oe)}))}),1e3);return function(){return clearTimeout(t)}}),[ue]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(i.Row,{children:Object(N.jsx)(O.b,{to:"/dashboard",className:"header_nav",children:Object(N.jsxs)("h4",{className:"text-bold",children:[Object(N.jsx)("i",{className:"fa-solid fa-angle-left"}),"File Upload Logs"]})})}),Object(N.jsxs)(i.Row,{className:"mt-4",children:[Object(N.jsxs)(i.Col,{children:[(null===H||void 0===H?void 0:H.includes("FT_ID_11"))&&Object(N.jsxs)(i.Button,{className:"mr8",color:"danger",onClick:function(){return _(!0)},children:[Object(N.jsx)("i",{className:"fas fa-filter"})," ",Object(N.jsx)("span",{className:"mx-1",children:"Filter"})]}),null===le||void 0===le?void 0:le.map((function(e){var t=e.name,a=e.value;return Object(N.jsxs)(i.Button,{className:"filter_btn",onClick:function(){se(ne.filter((function(e){return e.name!==t&&t}))),V(Object(l.a)(Object(l.a)({},U),{},Object(n.a)({},t,""),"updatedDate"===t&&{uploadedDate:"",uploadedFrom:"",uploadedTo:""}))},children:[Object(N.jsx)("span",{children:"updatedDate"===t?Se(t):"ERRONEOUS"===a?"INVALID FILE":a}),Object(N.jsx)("i",{className:"fa-solid fa-xmark"})]})}))]}),Object(N.jsxs)(i.Col,{className:"text-end btn-search-section",children:[(null===H||void 0===H?void 0:H.includes("FT_ID_12"))&&Object(N.jsxs)(i.ButtonGroup,{className:"upload_btn",onClick:function(){return m(!0)},children:[Object(N.jsx)(i.Button,{outline:!0,children:Object(N.jsx)("i",{className:"far fa-plus f-24"})}),Object(N.jsx)(i.Button,{outline:!0,className:"text-semi-bold",children:"Upload File"})]}),Object(N.jsxs)("div",{className:"form-group has-search",children:[Object(N.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(N.jsx)("input",{onChange:function(e){je({name:"inputFileName",value:e.target.value})},type:"text",className:"form-control",placeholder:"Search for File Name"})]})]})]}),Object(N.jsx)(i.Row,{className:"mt-4",children:Object(N.jsxs)(i.Col,{sm:12,className:"position-relative list-data-table",children:[J&&!Z&&Object(N.jsx)(i.Spinner,{className:"spinner",type:"border",color:"dark"}),!xe.rows&&Z?Object(N.jsx)("p",{className:"no_content",children:"No result found"}):Object(N.jsx)(j.a,{columns:xe.columns,data:xe.rows,customStyles:h.a,pagination:!0,paginationServer:!0,paginationRowsPerPageOptions:[10,25,50,100],paginationTotalRows:T,onChangePage:function(e){ee(e-1),ge(e-1)},onChangeRowsPerPage:Ne,noDataComponent:!J&&Z&&"No data found",sortIcon:Object(N.jsx)(F.a,{}),sortServer:!0,onSort:function(e,t){me({attibName:e.id,sortType:t})}})]})}),Object(N.jsx)(D,{isOpen:L,toggle:_,setFilterData:V,filterData:U,resetFilterValues:function(){V({uploadedDate:"",uploadedFrom:"",uploadedTo:"",processingStatus:""}),se([]),_(!1)},setConvertedFilterData:se}),Object(N.jsx)(S,{toggleAddData:p,setToggleAddData:m,getData:ge}),(null===t||void 0===t?void 0:t.isOpen)&&Object(N.jsx)(y.a,{delay:"5000",type:null===t||void 0===t?void 0:t.type,message:null===t||void 0===t?void 0:t.message})]})}}}]);
//# sourceMappingURL=10.ec9a45f3.chunk.js.map